{% extends "base.html" %}

{% block title %}WatchWise{% endblock %}

{% block content %}

{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    {% for category, message in messages %}
      <div class="alert alert-{{ category }}">
        {{ message }}
      </div>
    {% endfor %}
  {% endif %}
{% endwith %}

<h2>Введите ваши данные:</h2>
<form method="POST" >
    {{  form.hidden_tag() }}
    <div>
        {{ form.email.label }}
        {{ form.email }}
    </div>
    <div>
        {{ form.password.label }}
        {{ form.password(size = 32) }}
    </div>
    <div>
        {{ form.submit }}
    </div>
    <button onclick="location.href = '/registration'" class = "reg-button">Зарегистрироваться</button>
</form>
{% if form.errors %}
<ul>
    {% for field,errors in form.errors.items() %}
    <li>{{field.label}}:
        <ul>
            {% for error in errors %}
                <li>{{error}}</li>
            {% endfor %}
        </ul>
    </li>
    {% endfor %}
</ul>
{% endif %}

{% endblock %}